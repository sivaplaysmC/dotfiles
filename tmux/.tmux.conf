unbind M-a
set -g prefix M-a
bind M-a send-prefix

set -g default-shell "/bin/zsh"

bind-key r source-file ~/.tmux.conf \; display-message "Tmux config reloaded!"


bind M-a last-window

unbind x
bind x kill-window

unbind c

unbind n
bind -n M-n new-window

set-window -g mode-keys vi


# Pane navigation
bind -n M-h select-pane -L
bind -n M-j select-pane -D
bind -n M-k select-pane -U
bind -n M-l select-pane -R

# Window navigation
bind -n M-J select-window -n
bind -n M-K select-window -p
bind -n M-H previous-window
bind -n M-L next-window

bind -n M-C-h resize-pane -L 2
bind -n M-C-j resize-pane -D 2
bind -n M-C-k resize-pane -U 2
bind -n M-C-l resize-pane -R 2

bind -n M-v split-window -hc "#{pane_current_path}"
bind -n M-s split-window -vc "#{pane_current_path}"

bind -n M-z resize-pane -Z
bind -n M-x kill-pane

bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5
bind -n M-6 select-window -t 6
bind -n M-7 select-window -t 7
bind -n M-8 select-window -t 8
bind -n M-9 select-window -t 9


bind -r M-h previous-window # select previous window
bind -r M-l next-window     # select next window
bind Tab last-window        # move to last active window
bind m set mouse


setw -g xterm-keys on
set -s escape-time 10                     # faster command sequences
set -sg repeat-time 600                   # increase repeat timeout
set -s focus-events on

set -q -g status-utf8 on                  # expect UTF-8 (tmux < 2.2)
setw -q -g utf8 on

set -g history-limit 5000                 # boost history

set -g base-index 1           # start windows numbering at 1
setw -g pane-base-index 1     # make pane numbering consistent with windows

setw -g automatic-rename on   # rename window to reflect current program

set -g set-titles on          # set terminal title

set -g display-panes-time 800 # slightly longer pane indicators display time
set -g display-time 1000      # slightly longer status messages display time

set -g status-interval 10     # redraw status line every 10 seconds

# activity
set -g monitor-activity on
set -g visual-activity off


set -g status-bg "#080808"
set -g status-fg "#cccccc"



#--------------------------------------------------------------------------
# Configuration
#--------------------------------------------------------------------------

# Use Vi mode
setw -g mode-keys vi

# Increase scrollback buffer size
set -g history-limit 10000

# Start window and pane numbering from 1 for easier switching
set -g base-index 1
setw -g pane-base-index 1

# Allow automatic renaming of windows
set -g allow-rename off
set -g allow-set-title off

# set -g automatic-rename off

# Renumber windows when one is removed.
set -g renumber-windows on

# Improve colors
set -g default-terminal "xterm-256color"

# # Enable undercurl
# set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'
#
# # Enable undercurl colors
# set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'

# Allow the mouse to resize windows and select tabs
set -g mouse on

# Allow tmux to set the terminal title
set -g set-titles on

# Monitor window activity to display in the status bar
setw -g monitor-activity on

# A bell in another window should cause a bell in the current window
set -g bell-action any

# Don't show distracting notifications
set -g visual-bell off
set -g visual-activity off

# Focus events enabled for terminals that support them
set -g focus-events on

# Useful when using sharing a session with different size terminals
setw -g aggressive-resize on

# don't detach tmux when killing a session
set -g detach-on-destroy off

# address vim mode switching delay (http://superuser.com/a/252717/65504)
set -s escape-time 0

set -as terminal-features ",*:RGB"
# set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"
#--------------------------------------------------------------------------
# Status line
#--------------------------------------------------------------------------

# Custom window flags
# window_default_symbol ''
# window_active_symbol '*'
# window_activity_symbol '#'
# window_bell_symbol '!'
# window_last_symbol '-'
# window_silence_symbol '~'
# window_zoomed_symbol 'Z'

# Status line customisation
set -g status-left-length 200
set -g status-left " #{session_name}  "
# add git branch to status line
set -g status-style "bg=default"
set -g status-right "#[fg=#d70000,bold]#(whoami)#[fg=#ffffff]@#(hostnamectl hostname):#(pwd) "
set -g window-status-format "#{window_index}:#{window_name}#{window_flags} "
set -g window-status-current-format "#{window_index}:#{window_name}#{window_flags} "
set -g window-status-current-style "bg=#d70000 fg=#ffffff"
set -g window-status-last-style "fg=#000000 bg=#ffffff"
set -g window-status-activity-style none

# set -g status-justify centre
set -g status-justify left


set -g popup-style "bg=#0f0f0f"
set -g popup-border-style "bg=#0f0f0f,fg=#0f0f0f"

# This is needed by the image.nvim plugin
set -gq allow-passthrough on
# This is related to the `tmux_show_only_in_active_window = true,` config in
# image.nvim
set -g visual-activity off

set-window -g window-active-style bg=terminal
set-window -g window-style bg=terminal

#set inactive/active window styles
set -g window-style 'bg=#070707'
set -g window-active-style 'bg=terminal'

# set the pane border colors
set -g pane-border-style 'fg=#2f2f2f,bg=#070707'
set -g pane-active-border-style 'fg=#ffffff,bg=terminal'

